<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Yarn 3</title>
        <meta name="description" content="">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
        <meta http-equiv="cleartype" content="on">
    
    <!-- bootstrap 3 and mobile-first styles -->
    
    {% load compress %}
        
    {% compress css %} 
    <link rel="stylesheet" href="{{STATIC_URL}}css/vendor/bootstrap-3.0.0.min.css" type="text/css">
    <link rel="stylesheet" href="{{STATIC_URL}}css/google_webfonts.css" type="text/css">

    <link rel="stylesheet" href="{{STATIC_URL}}css/offcanvas.less" type="text/less">
    <link rel="stylesheet" href="{{STATIC_URL}}css/mobile.less" type="text/less">
    
    {% if is_desktop %}
    <link rel="stylesheet" href="{{STATIC_URL}}css/desktop.less" type="text/less">
    {% endif %}
    
    {% endcompress %}
        
    <script src="{{ STATIC_URL }}js/vendor/modernizr-2.6.2.min.js"></script>
        
    <script>
        yarn_headers = {
            normal: "Yarn",
            highlight: "* Yarn *",
            alert: ["* Yarn ****", "** Yarn ***", "*** Yarn **", "**** Yarn *", "*** Yarn **", "** Yarn ***"]
        };

        yarn_alert_terms = ['{{ login_name }}'];
        yarn_current_user = '{{ login_name }}';
        {% if use_websockets %}
            use_websockets = true;
            websockets_url = '{{ websockets_url }}';
            websockets_token = '{{ websockets_token }}';
        {% endif %}
    </script>

</head>
<body>
    {% csrf_token %}

    <div class="viewport">
    
        <aside class="sidebar">
            
            <!-- user profile avatar -->
            <div class="yarn-user clearfix">
                <!--<img class="yarn-user-avatar img-rounded" src="{{ avatar_url }}">-->
                <img class="img-rounded yarn-user-avatar" src="http://api.randomuser.me/0.2/portraits/men/9.jpg">
                <span class="yarn-header-user-name js_user_display_name_{{ login_name }}">{{ login_name }}</span>

                <span class="yarn-header-settings"><a href="javascript:void(0)" id="open_settings_dialog">edit profile</a></span>
            </div>
            
            <!-- tab controller list -->
            <ul id="myTab" class="yarn-tabs nav nav-tabs">
              <li class="active"><a href="#threads" data-toggle="tab"><span class="glyphicon glyphicon-list"></span></a></li>
              <li><a href="#people" data-toggle="tab"><span class="glyphicon glyphicon-user"></span></a></li>
              <li><a href="#archive" data-toggle="tab"><span class="glyphicon glyphicon-search"></span></a></li>
            </ul>
            
            <!-- tab content container -->
            <div class="tab-content">
                
                <!-- tab contents: threads -->
                <div class="yarn-threads tab-pane active" id="threads">
                    <h2>Threads</h2>
                    <div><span class="label label-success">Public</span> <span class="label">Active</span> <span class="label">Private</span></div>
                    <ul style="margin-top:1.5em;">
                        <li>UX</li>
                        <li>Yarn</li>
                        <li>ACA</li>
                        <li>CSE 341 - Autumn 2014</li>
                        <li>CSE 341 - Autumn 2014</li>
                        <li>CSE 341 - Autumn 2014</li>
                        <li>CSE 341 - Autumn 2014</li>
                    </ul>
                   
                    <!--
                    <div class="input-group">
                      <input class="form-control input-small" type="text" placeholder="Find threads">
                      <span class="input-group-btn">
                        <button class="btn btn-default btn-small" type="button">Find</button>
                      </span>
                    </div>
                    -->
                    
                    <div id="new_thread_container">
                        <a href="javascript:void(0);" class="create_new_thread_link">+ new thread</a>
                
                        <div id="new_thread_creation_panel" style="display: none;">
                            <h3>Create new thread</h3>

                            <div>Thread name:  <br />
                            <input type="text" id="new_thread_name" />
                            <span id="err_new_thread_name_required" style="display: none;">A name is required</span>
                            <span id="err_new_thread_dupe" style="display: none;">A thread already exists with that name</span>
                            <br />
                            Initial thread topic: <br/>
                            <input type="text" id="new_thread_topic" />
                            <br /><br />
                
                            <button class="submit_new_thread btn btn-primary btn-xs">Create</button>
                            <a href="javascript:void(0);" class="cancel_new_thread_create">Cancel</a>
                            </div>
                        </div>
                    </div>
                    
                </div>
                
                <!-- tab contents: people -->
                <div class="yarn-people tab-pane" id="people">
                    <ul>
                        <li>Larry</li>
                        <li>Curly</li>
                        <li>Moe</li>
                    </ul>
                </div>
                
                <!-- tab contents: archive/find -->
                <div class="yarn-archive tab-pane" id="archive">
                    <h2>FIND</h2>
                    <div>Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam quis risus eget urna mollis ornare vel eu leo. Curabitur blandit tempus porttitor. Donec sed odio dui.</div>
                </div>
            
            </div>
            
        </aside>
        
        <section class="content">
      
            <!-- header container -->
            <div class="yarn-header">
                            
                <h1><a href="javascript:void(0)" id="current_thread"><span class='yarn-current-thread-name'>Threads</span></a>&nbsp;&nbsp;<span class="glyphicon glyphicon-filter" style="color:#aaa; font-size:80%; vertical-align:middle; display:inline-block;"></span></h1>
            
                <div id="top_thread_menu"></div>
                
                <a href="javascript:void(0)" class="switch" style="color:#aaa"><span class="glyphicon glyphicon-align-justify"></span></a>
            </div><!-- end yarn-header -->
            
            <!-- content container -->
            <div id="tabs" class="yarn-content">
                <div id="available_thread_list" class="content_area yarn-content-module"></div>
            </div><!-- end yarn-content -->
            
        </section>

    </div>

    <!-- jquery, bootstrap and javascripts -->
    {% compress js %}
    <script src="{{STATIC_URL}}js/vendor/jquery-1.10.2.min.js"></script>
    <script src="{{STATIC_URL}}js/vendor/bootstrap-3.0.0.min.js"></script>
    <script src="{{STATIC_URL}}js/vendor/handlebars-1.0.0.min.js"></script>
    
    <script src="{{STATIC_URL}}js/offcanvas.js"></script>
    <script src="{{STATIC_URL}}js/main.js"></script>
    <script src="{{STATIC_URL}}js/handlebar_utilities.js"></script>
    <script src="{{STATIC_URL}}js/thread.js"></script>
    <script src="{{STATIC_URL}}js/thread_history.js"></script>
    <script src="{{STATIC_URL}}js/format.js"></script>
    <script src="{{STATIC_URL}}js/upload.js"></script>
    <script src="{{STATIC_URL}}js/typeahead.js"></script>
    <script src="{{STATIC_URL}}js/yarn.js"></script>
    <script src="{{STATIC_URL}}js/click_to_edit.js"></script>
    <script src="{{STATIC_URL}}js/errors.js"></script>
    <script src="{{STATIC_URL}}js/socketio.js"></script>
    
    {% endcompress %}
    
    {% include "handlebars/available_threads.html" %}
    {% include "handlebars/thread_menu.html" %}
    {% include "handlebars/thread/initial_display.html" %}
    {% include "handlebars/thread/tab_display.html" %}
    {% include "handlebars/thread/artifact.html" %}
    {% include "handlebars/user/online_display.html" %}
    {% include "handlebars/autocomplete.html" %}
    <div style="visibility: hidden;" id="offscreen_test_render"></div>


    <script>
        start_yarn();
    </script>
    
    
</body>
</html>
